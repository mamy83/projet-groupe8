{% extends 'base.html' %}

{% block title %}Connexion - SolarGuard{% endblock %}

{% block extra_css %}
<style>
    .logo {
        display: flex;
        align-items: center;
        gap: 12px;
    }

    .solarguard-logo {
        transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }

    .logo:hover .solarguard-logo {
        transform: rotate(15deg) scale(1.1);
    }

    .logo-text {
        font-weight: 800;
        letter-spacing: -0.02em;
        background: linear-gradient(135deg, var(--text) 0%, #4b5563 100%);
        -webkit-background-clip: text;
        background-clip: text;
        -webkit-text-fill-color: transparent;
    }

    .content-area {
        background-color: #f8fafc;
        background-image: radial-gradient(#cbd5e1 1px, transparent 1px);
        background-size: 24px 24px;
        animation: moveBackground 20s linear infinite;
    }

    @keyframes moveBackground {
        0% {
            background-position: 0 0;
        }

        100% {
            background-position: 0 480px;
        }
    }
</style>
{% endblock %}

{% block content %}
<div class="card" style="max-width: 400px; margin: 4rem auto; padding: 24px;">
    <div style="text-align: center; margin-bottom: 32px;">
        <a href="{% url 'landing' %}" style="text-decoration: none; color: inherit; display: inline-block;">
            <div class="logo" style="justify-content: center; margin-bottom: 8px;">
                <svg class="solarguard-logo" width="48" height="48" viewBox="0 0 32 32" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <path d="M16 2L28 9V23L16 30L4 23V9L16 2Z" fill="url(#login_logo_grad)" />
                    <circle cx="16" cy="16" r="6" fill="white" fill-opacity="0.9" />
                    <path
                        d="M16 8V10M16 22V24M8 16H10M22 16H24M10.34 10.34L11.75 11.75M20.25 20.25L21.66 21.66M10.34 21.66L11.75 20.25M20.25 11.75L21.66 10.34"
                        stroke="white" stroke-width="2" stroke-linecap="round" />
                    <defs>
                        <linearGradient id="login_logo_grad" x1="4" y1="2" x2="28" y2="30"
                            gradientUnits="userSpaceOnUse">
                            <stop stop-color="#F59E0B" />
                            <stop offset="1" stop-color="#D97706" />
                        </linearGradient>
                    </defs>
                </svg>
            </div>
            <h1 class="logo-text" style="font-size: 2rem; margin-bottom: 4px; display: block;">SolarGuard</h1>
        </a>
        <p class="text-muted">Optimisation énergétique intelligente</p>
    </div>

    <h2 style="font-size: 1.2rem; margin-bottom: 8px;">Se connecter</h2>
    <p class="text-muted" style="margin-bottom: 24px;">Restez informé de votre production solaire.</p>

    <form method="post">
        {% csrf_token %}
        {% if form.errors %}
        <div
            style="background-color: #fce4e4; border: 1px solid #c0392b; color: #c0392b; padding: 12px; border-radius: 4px; margin-bottom: 16px; font-size: 0.9rem;">
            Impossible de se connecter. Veuillez vérifier votre identifiant et votre mot de passe.
        </div>
        {% endif %}
        <div style="margin-bottom: 16px;">
            <label for="id_username">Adresse Email</label>
            {{ form.username }}
        </div>
        <div style="margin-bottom: 16px;">
            <label for="id_password">Mot de passe</label>
            {{ form.password }}
        </div>

        <button type="submit" class="btn btn-primary"
            style="width: 100%; margin-top: 8px; border-radius: 24px;">S'identifier</button>
    </form>

    <div style="margin-top: 24px; text-align: center;">
        <span class="text-muted">Nouveau sur SolarGuard ?</span>
        <a href="{% url 'signup' %}"
            style="color: var(--primary); font-weight: 600; text-decoration: none; margin-left: 4px;">S'inscrire</a>
    </div>
</div>
{% endblock %}